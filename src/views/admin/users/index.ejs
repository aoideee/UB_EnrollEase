<!-- File: src/views/admin/users/index.ejs -->

<%- include('../../partials/header',{ title:'Manage Users' }) %>
<main>
  <h1>Users</h1>
  <a href="/admin/users/new">+ New User</a>
  <table>
    <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Role</th><th>Actions</th></tr></thead>
    <tbody>
    <% users.forEach(u=>{ %>
      <tr>
        <td><%=u.id%></td>
        <td><%=u.name%></td>
        <td><%=u.email%></td>
        <td><%=u.role%></td>
        <td>
          <a href="/admin/users/<%=u.id%>/edit">Edit</a>
          <form action="/admin/users/<%=u.id%>/delete" method="POST" style="display:inline">
            <button>Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
    </tbody>
  </table>
</main>
<%- include('../../partials/footer') %>
